!function(){"use strict";function a(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}}function b(){try{return localStorage.setItem("storage_test",1),localStorage.removeItem("storage_test"),!1}catch(a){return 22===a.code&&"QUOTA_EXCEEDED_ERR"===a.name?!0:!1}}angular.module("raStorage",[]).provider("raStorage",function(){var c={prefix:!1,cookie:{path:"/"}};return{config:function(a){_.merge(c,a)},$get:function(d){return function(e,f){var g,h=!(!a()||b());c.prefix&&(e=c.prefix+"."+e),g=h?window.localStorage:{setItem:function(a,b){$.cookie(a,b,{path:"/"})},getItem:function(a){return $.cookie(a)},removeItem:function(a){$.removeCookie(a)}};var i=function(a){return a=angular.toJson(a),g.setItem(e,a)},j=function(){var a=g.getItem(e);if(a)try{a=angular.fromJson(a)}catch(b){d.error(b)}return null===a&&f&&(a=f),a},k=function(){return g.removeItem(e)},l=function(a){if(angular.isObject(a)===!1)throw new Error("Type mismatch: trying to get/set a key for the stored value of type "+typeof a)};return{set:function(a,b){return 1===arguments.length?i(a):this.setKey(a,b)},get:function(a){return angular.isUndefined(a)?j():this.getKey(a)},destroy:function(a){return angular.isUndefined(a)?k():this.destroyKey(a)},setKey:function(a,b){var c=j()||{};return l(c),c[a]=b,i(c)},getKey:function(a){var b=j()||{};return l(b),b[a]},destroyKey:function(a){var b=j()||{};return l(b),angular.isDefined(b[a])?(delete b[a],i(b),!0):!1},isSupported:a,isPrivateBrowsing:b}}}}})}();